---

- name: Create directory
  ansible.builtin.file:
    path: "{{ dest_dir }}"
    state: directory
    mode: '0755'
  become: true

# - name: Ensure destination directory exists
#   file:
#     path: "{{ dest_dir }}"
#     state: directory
#     mode: '0755'
  

- name: Clone Git repository
  git:
    repo: "{{ repo_url }}"
    dest: "{{ dest_dir }}"
    version: main
    force: yes

# - name: Delete directory
#   ansible.builtin.file:
#     path: "{{ dir_path }}"
#     state: absent